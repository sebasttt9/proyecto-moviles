<app-navigation-header title="Registrarse"></app-navigation-header>

<ion-content class="register-content">
  <div class="register-container container-animate">
    <div class="register-card animate-fade-scale">
      <div class="register-title-section stagger-animation">
        <h1>Registrarse</h1>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- Nombre y Apellido en la misma fila -->
        <div class="name-row stagger-animation">
          <div class="name-input-container">
            <ion-item class="name-input">
              <ion-label position="floating">Nombre:</ion-label>
              <ion-input type="text" formControlName="nombre" required></ion-input>
            </ion-item>
          </div>
          <div class="lastname-input-container">
            <ion-item class="lastname-input">
              <ion-label position="floating">Apellido</ion-label>
              <ion-input type="text" formControlName="apellido" required></ion-input>
            </ion-item>
          </div>
        </div>

        <!-- Correo -->
        <div class="input-container stagger-animation">
          <ion-item class="email-input">
            <ion-label position="floating">Correo</ion-label>
            <ion-input type="email" formControlName="email" required></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
            <p>Correo inválido</p>
          </ion-text>
        </div>

        <!-- Contraseña -->
        <div class="input-container stagger-animation">
          <ion-item class="password-input">
            <ion-label position="floating">Contraseña</ion-label>
            <ion-input type="password" formControlName="password" required></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
            <p>La contraseña es obligatoria</p>
          </ion-text>
        </div>

        <!-- Repetir Contraseña -->
        <div class="input-container stagger-animation">
          <ion-item class="confirm-password-input">
            <ion-label position="floating">Repetir contraseña</ion-label>
            <ion-input type="password" formControlName="confirmPassword" required></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid">
            <p>Las contraseñas no coinciden</p>
          </ion-text>
        </div>

        <ion-button class="register-button ripple-effect stagger-animation" type="submit" [disabled]="registerForm.invalid">
          Registrarse
        </ion-button>
      </form>

      <div class="login-section stagger-animation">
        <p class="login-text">¿Ya tienes una cuenta?</p>
        <ion-button class="login-button nav-transition ripple-effect" (click)="goToLogin()" fill="outline">Iniciar sesión</ion-button>
      </div>
    </div>
  </div>
</ion-content>
